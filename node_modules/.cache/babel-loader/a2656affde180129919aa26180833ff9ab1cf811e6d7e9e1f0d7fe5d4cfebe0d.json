{"ast":null,"code":"export const addToCartOperator = (state, action) => {\n  const newCartItem = {\n    ...action.tableToAdd\n  };\n  const newCart = {\n    ...state,\n    cart: [...state.cart, newCartItem]\n  };\n};\nexport const deleteFromCartOperator = (state, action) => {\n  const deletedItem = state.cart.find(book => book.id === action.bookToDelete.id);\n  if (!deletedItem) {\n    return state;\n  }\n  const updatedCart = state.cart.filter(book => book.id !== action.bookToDelete.id);\n  return {\n    ...state,\n    cart: updatedCart,\n    totalAmount: state.totalAmount - deletedItem.initialPrice * deletedItem.countOfSameBooks,\n    countOfCartItems: state.countOfCartItems - 1\n  };\n};\nexport const addSameItem = (state, action) => {\n  const updatedCart = state.cart.map(book => book.id === action.bookToUpdate.id ? {\n    ...book,\n    countOfSameBooks: book.countOfSameBooks + 1,\n    priceInUah: book.priceInUah + action.bookToUpdate.initialPrice\n  } : book);\n  const updatedTotalAmount = state.totalAmount + action.bookToUpdate.initialPrice;\n  return {\n    ...state,\n    cart: updatedCart,\n    totalAmount: updatedTotalAmount,\n    countOfCartItems: state.countOfCartItems + 1\n  };\n};\nexport const deleteSameItem = (state, action) => {\n  if (action.bookToUpdate.countOfSameBooks === 1) {\n    return state;\n  }\n  const updatedCart = state.cart.map(book => book.id === action.bookToUpdate.id && book.countOfSameBooks > 1 ? {\n    ...book,\n    countOfSameBooks: book.countOfSameBooks - 1,\n    priceInUah: book.priceInUah - action.bookToUpdate.initialPrice\n  } : book);\n  const updatedTotalAmount = state.totalAmount - action.bookToUpdate.initialPrice;\n  return {\n    ...state,\n    cart: updatedCart,\n    totalAmount: updatedTotalAmount,\n    countOfCartItems: state.countOfCartItems - 1\n  };\n};","map":{"version":3,"names":["addToCartOperator","state","action","newCartItem","tableToAdd","newCart","cart","deleteFromCartOperator","deletedItem","find","book","id","bookToDelete","updatedCart","filter","totalAmount","initialPrice","countOfSameBooks","countOfCartItems","addSameItem","map","bookToUpdate","priceInUah","updatedTotalAmount","deleteSameItem"],"sources":["/Users/anastasiaked/my-app/src/Store/operator.js"],"sourcesContent":["export const addToCartOperator = (state, action) => {\n    const newCartItem = {\n        ...action.tableToAdd,\n    };\n    const newCart = {\n        ...state,\n        cart: [...state.cart, newCartItem]\n    };\n}\n\nexport const deleteFromCartOperator = (state, action) => {\n    const deletedItem = state.cart.find((book) => book.id === action.bookToDelete.id);\n\n    if (!deletedItem) {\n        return state;\n    }\n\n    const updatedCart = state.cart.filter((book) => book.id !== action.bookToDelete.id);\n\n    return {\n        ...state,\n        cart: updatedCart,\n        totalAmount: state.totalAmount - (deletedItem.initialPrice * deletedItem.countOfSameBooks),\n        countOfCartItems: state.countOfCartItems - 1,\n    };\n};\n\nexport const addSameItem = (state, action) => {\n    const updatedCart = state.cart.map((book) =>\n        book.id === action.bookToUpdate.id\n            ? {\n                ...book,\n                countOfSameBooks: book.countOfSameBooks + 1,\n                priceInUah: book.priceInUah + action.bookToUpdate.initialPrice,\n            }\n        : book\n    );\n\n    const updatedTotalAmount =\n        state.totalAmount + action.bookToUpdate.initialPrice;\n\n    return {\n        ...state,\n        cart: updatedCart,\n        totalAmount: updatedTotalAmount,\n        countOfCartItems: state.countOfCartItems + 1,\n    };\n};\n\nexport const deleteSameItem = (state, action) => {\n\n    if (action.bookToUpdate.countOfSameBooks === 1) {\n        return state\n    }\n\n    const updatedCart = state.cart.map((book) =>\n        book.id === action.bookToUpdate.id && book.countOfSameBooks > 1\n            ? {\n                ...book,\n                countOfSameBooks: book.countOfSameBooks - 1,\n                priceInUah: book.priceInUah - action.bookToUpdate.initialPrice,\n            }\n        : book\n    );\n\n    const updatedTotalAmount =\n        state.totalAmount - action.bookToUpdate.initialPrice;\n\n    return {\n        ...state,\n        cart: updatedCart,\n        totalAmount: updatedTotalAmount,\n        countOfCartItems: state.countOfCartItems - 1,\n    };\n};"],"mappings":"AAAA,OAAO,MAAMA,iBAAiB,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAChD,MAAMC,WAAW,GAAG;IAChB,GAAGD,MAAM,CAACE;EACd,CAAC;EACD,MAAMC,OAAO,GAAG;IACZ,GAAGJ,KAAK;IACRK,IAAI,EAAE,CAAC,GAAGL,KAAK,CAACK,IAAI,EAAEH,WAAW;EACrC,CAAC;AACL,CAAC;AAED,OAAO,MAAMI,sBAAsB,GAAGA,CAACN,KAAK,EAAEC,MAAM,KAAK;EACrD,MAAMM,WAAW,GAAGP,KAAK,CAACK,IAAI,CAACG,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACU,YAAY,CAACD,EAAE,CAAC;EAEjF,IAAI,CAACH,WAAW,EAAE;IACd,OAAOP,KAAK;EAChB;EAEA,MAAMY,WAAW,GAAGZ,KAAK,CAACK,IAAI,CAACQ,MAAM,CAAEJ,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACU,YAAY,CAACD,EAAE,CAAC;EAEnF,OAAO;IACH,GAAGV,KAAK;IACRK,IAAI,EAAEO,WAAW;IACjBE,WAAW,EAAEd,KAAK,CAACc,WAAW,GAAIP,WAAW,CAACQ,YAAY,GAAGR,WAAW,CAACS,gBAAiB;IAC1FC,gBAAgB,EAAEjB,KAAK,CAACiB,gBAAgB,GAAG;EAC/C,CAAC;AACL,CAAC;AAED,OAAO,MAAMC,WAAW,GAAGA,CAAClB,KAAK,EAAEC,MAAM,KAAK;EAC1C,MAAMW,WAAW,GAAGZ,KAAK,CAACK,IAAI,CAACc,GAAG,CAAEV,IAAI,IACpCA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACmB,YAAY,CAACV,EAAE,GAC5B;IACE,GAAGD,IAAI;IACPO,gBAAgB,EAAEP,IAAI,CAACO,gBAAgB,GAAG,CAAC;IAC3CK,UAAU,EAAEZ,IAAI,CAACY,UAAU,GAAGpB,MAAM,CAACmB,YAAY,CAACL;EACtD,CAAC,GACHN,IACN,CAAC;EAED,MAAMa,kBAAkB,GACpBtB,KAAK,CAACc,WAAW,GAAGb,MAAM,CAACmB,YAAY,CAACL,YAAY;EAExD,OAAO;IACH,GAAGf,KAAK;IACRK,IAAI,EAAEO,WAAW;IACjBE,WAAW,EAAEQ,kBAAkB;IAC/BL,gBAAgB,EAAEjB,KAAK,CAACiB,gBAAgB,GAAG;EAC/C,CAAC;AACL,CAAC;AAED,OAAO,MAAMM,cAAc,GAAGA,CAACvB,KAAK,EAAEC,MAAM,KAAK;EAE7C,IAAIA,MAAM,CAACmB,YAAY,CAACJ,gBAAgB,KAAK,CAAC,EAAE;IAC5C,OAAOhB,KAAK;EAChB;EAEA,MAAMY,WAAW,GAAGZ,KAAK,CAACK,IAAI,CAACc,GAAG,CAAEV,IAAI,IACpCA,IAAI,CAACC,EAAE,KAAKT,MAAM,CAACmB,YAAY,CAACV,EAAE,IAAID,IAAI,CAACO,gBAAgB,GAAG,CAAC,GACzD;IACE,GAAGP,IAAI;IACPO,gBAAgB,EAAEP,IAAI,CAACO,gBAAgB,GAAG,CAAC;IAC3CK,UAAU,EAAEZ,IAAI,CAACY,UAAU,GAAGpB,MAAM,CAACmB,YAAY,CAACL;EACtD,CAAC,GACHN,IACN,CAAC;EAED,MAAMa,kBAAkB,GACpBtB,KAAK,CAACc,WAAW,GAAGb,MAAM,CAACmB,YAAY,CAACL,YAAY;EAExD,OAAO;IACH,GAAGf,KAAK;IACRK,IAAI,EAAEO,WAAW;IACjBE,WAAW,EAAEQ,kBAAkB;IAC/BL,gBAAgB,EAAEjB,KAAK,CAACiB,gBAAgB,GAAG;EAC/C,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}